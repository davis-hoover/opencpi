%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% this file was generated by docGen.py
% this file is intended to be edited
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Summary - \Comp}
% Make table whose width is equal to which will be used for text
% wrapping, split into 2 equal columns
\begin{longtable}{|p{\dimexpr0.5\textwidth-2\tabcolsep\relax}
                  |p{\dimexpr0.5\textwidth-2\tabcolsep\relax}|}
  \hline
  \rowcolor{blue}
  & \\
  \hline
  Name              & \comp \\
  \hline
  Latest Version    & \docVersion \\
  \hline
  Worker Type       & Application \\
  \hline
  Component Library & ocpi.assets.misc\_comps \\
  \hline
  Workers           & \comp.hdl \\
  \hline
  Tested Platforms  & xsim, CentOS 7 \\
  \hline
\end{longtable}

\begin{center}
\textit{\textbf{Revision History}}
  \begin{table}[H]
  \label{table:revisions} % Add "[H]" to force placement of table
    \begin{longtable}{|p{\dimexpr0.15\textwidth-2\tabcolsep\relax}
                      |p{\dimexpr0.75\textwidth-2\tabcolsep\relax}
                      |p{\dimexpr0.1\textwidth-2\tabcolsep\relax}|}
    \hline
    \rowcolor{blue}
    \textbf{Revision} & \textbf{Description of Change} & \textbf{Date} \\
      \hline
      v1.7 & Initial release & 5/28/2020 \\
      \hline
    \end{longtable}
  \end{table}
\end{center}

\section*{Block Diagram}
\input{bd.inc}


\section*{Functionality}
\begin{flushleft}
 "It then converts them to ComplexShorWithMetadata protocol messages that are marshaled on to the out port, according to the following table."
\end{flushleft}
\begin{center}
	\begin{tabular}{ |c|c|c| } 
		\hline
		iqstream operation &  ComplexShorWithMetadata operation \\ 
		iq & samples \\ 
		   & time \\
		   & interval \\
		   & flush \\
		   & sync \\
		   & end\_of\_samples \\
		\hline
	\end{tabular}
\end{center}

%\section*{Worker Implementation Details}
%\begin{flushleft}
%\end{flushleft}

%\section*{Theory}
%\begin{flushleft}
%\end{flushleft}

%\section*{Block Diagrams}
%\subsection*{Top level}
%\begin{center}
%\end{center}\pagebreak

%\subsection*{State Machine}
%\begin{flushleft}
%\end{flushleft}

\section*{Source Dependencies}
\subsection*{cswm\_to\_iqstream.hdl}
\begin{itemize}
	\item core/hdl/primitives/protocol/complex\_short\_with\_metadata\_body.vhd 
	\item core/hdl/primitives/protocol/complex\_short\_with\_metadata\_marshaller.vhd
	\item core/hdl/primitives/protocol/complex\_short\_with\_metadata\_pkg.vhd
	\item core/hdl/primitives/protocol/iqstream\_demarshaller.vhd
	\item core/hdl/primitives/protocol/iqstream\_pkg.vhd
	\item core/hdl/primitives/protocol/protocol\_pkg.vhd
\end{itemize}


%\section*{Control Timing and Signals}
%\subsection*{\comp.hdl}
%\begin{flushleft}
%\end{flushleft}

%\section*{Performance and Resource Utilization}
%\subsubsection*{\comp.rcc}
%\subsubsection*{\comp.hdl}

\section*{Test and Verification}
The Unit Under Test (UUT) is tested by a) generating a file containing IQStream protocol-formatted messages which are sent to the UUT via the \verb+file_read+ component, b) using the \verb+file_write+ component to save the file containing the UUT's output as protocol-formatted message, and c) verifying the contents of the output file. The generated file contains one or more \verb+ComplexShortWithMetadata+ \verb+samples+ messages. The sequence of \verb+samples+ messages include samples whose I and Q signals are positive and negative ramp functions, respectively. The output file is verified by confirming that a) the same number of samples exists in the input and output files, and b) the output file contains the same ramp functions as the input.

\section*{Output Width and Bit Growth}
Both the input and output data is marshalled across a 32-bit bus, so bit growth is not a concern.
