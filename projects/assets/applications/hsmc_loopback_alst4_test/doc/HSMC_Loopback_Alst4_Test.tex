\iffalse
This file is protected by Copyright. Please refer to the COPYRIGHT file
distributed with this source distribution.

This file is part of OpenCPI <http://www.opencpi.org>

OpenCPI is free software: you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

OpenCPI is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with this program. If not, see <http://www.gnu.org/licenses/>.
\fi

%----------------------------------------------------------------------------------------
% Required document specific properties
%----------------------------------------------------------------------------------------
\def\docTitle{HSMC Loopback Stratix IV (alst4) Test App Guide}
\def\snippetpath{../../../../../doc/av/tex/snippets}
%----------------------------------------------------------------------------------------
% Global latex header (this must be after document specific properties)
%----------------------------------------------------------------------------------------
\input{\snippetpath/LaTeX_Header}
\lstset{language=bash, backgroundcolor=\color{lightgray}, columns=flexible, breaklines=true, prebreak=\textbackslash, basicstyle=\ttfamily, showstringspaces=false,upquote=true, aboveskip=\baselineskip, belowskip=\baselineskip}
%----------------------------------------------------------------------------------------

\begin{document}
\maketitle
\thispagestyle{empty}
\newpage

	\begin{center}
	\textit{\textbf{Revision History}}
		\begin{table}[H]
		\label{table:revisions} % Add "[H]" to force placement of table
			\begin{tabularx}{\textwidth}{|c|X|l|}
			\hline
			\rowcolor{blue}
			\textbf{Revision} & \textbf{Description of Change} & \textbf{Date} \\
		    \hline
		    v1.4 & Converted to application from unit test structure. & 9/2018 \\
			\hline
			v1.5 & Added more commands and expanded text & 4/2019 \\
			\hline
			\end{tabularx}
		\end{table}
	\end{center}
\newpage

\tableofcontents
\newpage

\section{Description}
Intended to test HSMC slots on the alst4 platform.
\section{Hardware Setup}
x86 machine with the Stratix IV PCIE card with both HSMC slots populated with a Loopback HSMC Card\cite{debugcard}.
\section{Prerequisites}
The prerequisites are the empty assembly with the container cnt\_hsmc\_loopback\_card\_hsmc\_alst4\_a\_hsmc\_alst4\_b built for alst4 platform. \\ \\
To build the container navigate to the empty assembly /hdl/assemblies/empty and run the command:
\begin{lstlisting}
make HdlPlatforms=alst4 Containers=cnt_hsmc_loopback_card_hsmc_alst4_a_hsmc_alst4_b
\end{lstlisting}
\section{Execution}

\subsection{OCPI\_LIBRARY\_PATH Requirements/Considerations}
The \verb+OCPI_LIBRARY_PATH+ environment variable must be set to \verb+<assets project directory>/artifacts+.
\subsection{Command(s)}
Execution must occur from within the applications/hsmc\_loopback\_test directory using the following command:
\begin{lstlisting}
 ./<target-dir>/hsmc_loopback_test
\end{lstlisting}
\section{Verification}
Application exit status indicates success (status of 0 indicates success, status of 1 indicates failure, status of 100 indicates test unexpectedly could not complete). Either PASSED or FAILED is also printed to stdout/stderr, respectively. To get the exit code use (echo \$?) immediately after the last command.


\begin{thebibliography}{1}

\bibitem{debugcard} Terasic - Components - Extras - HSMC Debug \& Loopback Connector Package
\url{https://www.terasic.com.tw/cgi-bin/page/archive.pl?Language=English&No=495}

\end{thebibliography}

\end{document}
