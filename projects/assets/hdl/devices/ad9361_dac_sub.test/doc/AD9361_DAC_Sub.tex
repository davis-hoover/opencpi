\iffalse
This file is protected by Copyright. Please refer to the COPYRIGHT file
distributed with this source distribution.

This file is part of OpenCPI <http://www.opencpi.org>

OpenCPI is free software: you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

OpenCPI is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License along
with this program. If not, see <http://www.gnu.org/licenses/>.
\fi

%----------------------------------------------------------------------------------------
% Required document specific properties
%----------------------------------------------------------------------------------------
\def\comp{ad9361\_{}dac\_{}sub}
\edef\ecomp{ad9361_dac_sub}
\def\Comp{AD9361 DAC Sub}
\def\docTitle{\Comp{} Component Data Sheet}
\def\snippetpath{../../../../../../doc/av/tex/snippets}
%----------------------------------------------------------------------------------------
% Global latex header (this must be after document specific properties)
%----------------------------------------------------------------------------------------
\input{\snippetpath/LaTeX_Header}
%----------------------------------------------------------------------------------------

\begin{document}
\maketitle
\thispagestyle{empty}
\newpage

\def\name{\comp}
\def\workertype{Device}
\def\version{\ocpiversion}
\def\releasedate{06/2020}
\def\componentlibrary{ocpi.assets.devices}
\def\workers{\comp{}.hdl}
\def\testedplatforms{{
\begin{itemize}
  \item Agilent Zedboard/Analog Devices FMCOMMS2
  \item Agilent Zedboard/Analog Devices FMCOMMS3
  \item x86/Xilinx ML605/Analog Devices FMCOMMS2 (FMC-LPC slot only)
  \item x86/Xilinx ML605/Analog Devices FMCOMMS3 (FMC-LPC slot only)
  \item Ettus E310 (Vivado only, tested via \comp{}.test in av.bsp.e310 project)
\end{itemize}
}}
\input{\snippetpath/component_summary_table}

\section*{Functionality}
	The \Comp{} is a subdevice worker whose primary purpose is to time-interleave data streams for two TX channels in preparation for sending to the AD9361 IC pins (independent of which of the IC's P0/P1 buses the TX data streams are sent to). Time-interleaving occurs according to the timing diagrams specified in \cite{adi_ug570}. This worker ingests data from at most two instances of the ad9361\_dac.hdl device worker, each which handles a single TX channel data stream, and time-interleaves all channels onto a single data bus that is sent out eventually (via devsignals to ad9361\_data\_sub.hdl\cite{data_sub_comp_datasheet}) to the appropriate TX data stream pins of the AD9361 IC\cite{ad9361}.

\section*{Worker Implementation Details}
\subsection*{\comp.hdl}
\begin{sloppypar}
The \comp.hdl subdevice worker handles registering and interleaving of two independent TX data streams which are sent to this worker via the \verb+dev_data_ch0_in+ and \verb+dev_data_ch1_in+ devsignal ports. Data is sent out via the \verb+dev_data_to_pins+ devsignal port which ad9361\_data\_sub.hdl routes to the AD9361\cite{data_sub_comp_datasheet}. This worker's \verb+LVDS_p+, \verb+HALF_DUPLEX_p+, \verb+SINGLE_PORT_p+, and \verb+DATA_RATE_CONFIG_p+ parameter properties enforce build-time configuration for all of the possible AD9361 TX data time-interleaved modes. The currently supported modes and their limitations are shown in the following table.
\begin{scriptsize}
	\begin{longtable}{|c|c|c|c|c|}
		\caption{Supported DAC Sampling Rates per TX channel} \\
    \hline
		\rowcolor{blue}
    Platform/Cards which & AD9361 Data Port Mode & AD9361 Channel Mode & Max AD9361- & Max \\
		\rowcolor{blue}
    allow the AD9361                           & &                       & Supported Sampling    & \comp.hdl{}- \\
		\rowcolor{blue}
    Data Port/Channel       & &                       & Rate per TX channel        & Supported Sampling \\
		\rowcolor{blue}
    Mode                    & &                       &                            & Rate per TX channel \\
    \hline
    E310 & CMOS Single Port Half Duplex SDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Single Port Half Duplex DDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Single Port Full Duplex SDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Single Port Full Duplex DDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Dual   Port Half Duplex SDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Dual   Port Half Duplex DDR &                   & & not yet supported \\
    \hline
    E310 & CMOS Dual   Port Full Duplex SDR &                   & & not yet supported  \\
    \hline
    E310 & CMOS Dual   Port Full Duplex DDR &                   & & not yet supported  \\
    \hline
         &                           & 1R1T, 2R2T Timing=0 & 30.72 Msps & 30.72 Msps \\
    \cline{2-5}
         &                           & 1R1T, 2R2T Timing=1 &            &            \\
    E310 & CMOS Single Port Full Duplex DDR & 2R1T                & 15.36 Msps & 15.36 Msps \\
         &                           & 1R2T                &            &            \\
    \hline
    FMCOMMS2/3 & LVDS (Dual Port Full Duplex DDR) & all configs         & 61.44 Msps & 61.44 Msps\footnote{There are limited guarantees of data fidelity on the FMCOMMS2/3 cards for certain multichannel modes on certain platforms, although tests at room temperature have always yielded 100\% fidelity.} \\
    \hline
	\end{longtable}
\end{scriptsize}
\pagebreak
Note that ``channel 0'' within the context of this worker corresponds to the AD9361 T1 channel and ``channel 1'' corresponds to the AD9361 T2 channel in the AD9361 timing diagrams\footnote{For more info, see e.g. Figure 80 in \cite{adi_ug570}.}. The mapping between the AD9361's T1/T2 channels and the AD9361 physical TX connector outputs is variable depending on the AD9361 register configuration. This relationship is shown in the following table.  Due to the AD9361's T2 behavior\footnote{\label{t2}Data sent via T2 is only ever transmitted when the AD9361 register 0x002 Bits D7 and D6 are 1 (which corresponds to one of 1R2T or 2R2T modes).}, channel 1 should only ever be used when 2 TX channels are desired.
\end{sloppypar}
\begin{scriptsize}
	\centering
	\begin{longtable}{|p{3cm}|p{1.8cm}|p{3.5cm}|p{1.9cm}|p{2.1cm}|p{2cm}|}
		\caption{Channel Connectivity (D.C. means Don't Care.)} \\
		\hline
		\rowcolor{blue}
		\comp.hdl & AD9361  & AD9361 TX RF Port & AD9361 & AD9361 & AD9361 \\
		\rowcolor{blue}
		devsignal channel & timing &   & Register 0x010 & Register 0x002 & Register 0x004 \\
		\rowcolor{blue}
		& diagram  & & Bit D5\footnote{Note that AD9361 register 0x010 Bit D5 is controlled by no-OS's AD9361\_InitParam struct's tx\_channel\_swap\_enable member\cite{adi_ug570} and that the ad9361\_config\_proxy.rcc worker's \texttt{ad9361\_init} property sets that member value\cite{config_proxy_comp_datasheet}.} & Bits [D7 D6]\footnote{Note that AD9361 register 0x002 Bits [D7 D6] are controlled by no-OS's AD9361\_InitParam struct's one\_rx\_one\_tx\_use\_tx\_num member and two\_rx\_two\_tx\_mode\_enable member\cite{adi_ug570} and that the ad9361\_config\_proxy.rcc worker's \texttt{ad9361\_init} property sets these member values\cite{config_proxy_comp_datasheet}.} & Bit D6 \\
		\rowcolor{blue}
		& channel & & (channel swap) & (channel enable) & (port select) \\
		\hline
		0 & T1 & TX1A         & 0 & [D.C. 1]  & 0 \\
		0 & T1 & TX1B         & 0 & [D.C. 1]  & 1 \\
		\hline
		0 & T1 & TX2A         & 1 & [1 D.C.] & 0 \\
		0 & T1 & TX2B         & 1 & [1 D.C.] & 1 \\
		\hline
		1 \footref{t2}  & T2 \footref{t2} & TX2A         & 0 & [1 1]  & 0 \\
		1 \footref{t2} & T2 \footref{t2} & TX2B         & 0 & [1 1]  & 1 \\
		\hline
		1 \footref{t2} & T2 \footref{t2} & TX1A         & 1 & [1 1] & 0 \\
		1 \footref{t2} & T2 \footref{t2} & TX1B         & 1 & [1 1] & 1 \\
		\hline
	\end{longtable}
\end{scriptsize}

\section*{Block Diagrams}
\subsection*{Top level}
\makeatletter
\newcommand{\gettikzxy}[3]{%
  \tikz@scan@one@point\pgfutil@firstofone#1\relax
  \edef#2{\the\pgf@x}%
  \edef#3{\the\pgf@y}%
}
\makeatother
\pgfooclass{clientbox}{ % This is the class clientbox
    \method clientbox() { % The clientbox
    }
    \method apply(#1,#2,#3,#4) { % Causes the clientbox to be shown at coordinate (#1,#2) and named #3
        \node[rectangle,draw=white,fill=white] at (#1,#2) (#3) {#4};
    }
}
\pgfoonew \myclient=new clientbox()
\begin{center}
  \begin{tikzpicture}[% List of styles applied to all, to override specify on a case-by-case
      every node/.style={
        align=center,      % use this so that the "\\" for line break works
        minimum size=1cm,  % creates space above and below text in rectangle
      },
      every edge/.style={draw,thick}
    ]
    \node[rectangle,ultra thick,draw=black,fill=blue,minimum size=2cm,minimum width=17cm](R1){ Parameter Properties:\\ \verb+LVDS_p+, \verb+HALF_DUPLEX_p+, \verb+SINGLE_PORT_p+, \verb+DATA_RATE_CONFIG_p+ \\ \\ \\ \Comp \\ \\ };
    \node[rectangle,draw=white,fill=white](R4)[above= of R1]{ };
    \node[rectangle,draw=white,fill=white](placeholder)[above= of R1] {  };
	(R1)edge []	node [] {} (R4)
	(R4)edge []	node [] {} (R1)
    ;
    \gettikzxy{(placeholder)}{\rx}{\ry}
    \myclient.apply(\rx - 167.5,\ry+20,C1, ``dev\_data\_ch0\_in'' \\ dev signal port \\ DAC channel's \\ data bus sent from \\ instance of \\ ad9361\_dac.hdl);
    \path[<->]($(R1.north) + (-167.5 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(-\rx -  52.5,\ry+20,C1, ``dev\_tx\_event\_ch0'' \\ dev signal port \\ DAC channels' \\ data bus sent from \\ instance of \\ ad9361\_dac.hdl);
    \path[<-]($(R1.north) + (-52.5 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(-\rx +  52.5,\ry+20,C1, ``dev\_data\_ch1\_in'' \\ dev signal port \\ DAC channels' \\ data bus sent from \\ instance of \\ ad9361\_dac.hdl);
    \path[<->]($(R1.north) + ( 52.5 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(-\rx + 167.5,\ry+20,C1, ``dev\_tx\_event\_ch1'' \\ dev signal port \\ DAC channels' \\ data bus sent from \\ instance of \\ ad9361\_dac.hdl);
    \path[<-]($(R1.north) + (167.5 pt,0)$) edge [] node [] {} (C1);

	\fontsize{9.5}{11}\selectfont

    \myclient.apply(\rx - 200.0,\ry-180,C1, ``dev\_cfg\_data'' \\ dev signal \\ port \texttt{(}see \\ AD9361\_CONFIG.pdf\texttt{)});
    \path[<->]($(R1.south) + (-200.0 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(\rx - 103.0,\ry-180,C1, ``dev\_cfg\_data\_tx'' \\ dev signal \\ port \texttt{(}see \\ AD9361\_CONFIG.pdf\texttt{)} );
    \path[<-]($(R1.south) + (-103.0 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(\rx +  0.0,\ry-180,C1, ``dev\_cfg\_data\_clk'' \\ dev signal \\ port \texttt{(}see \\ AD9361\_DATA\_SUB.pdf\texttt{)} );
    \path[<-]($(R1.south) + ( 0.0 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(\rx + 103.0,\ry-180,C1, ``dev\_cfg\_data\_to\_pins'' \\ dev signal \\ port \texttt{(}see \\ AD9361\_DATA\_SUB.pdf\texttt{)} );
    \path[->]($(R1.south) + (103.0 pt,0)$) edge [] node [] {} (C1);
    \myclient.apply(\rx + 210.0,\ry-180,C1, ``dev\_txen'' \\ dev signal \\ port \texttt{(}see \\ AD9361\_DATA\_SUB.pdf\texttt{)} );
    \path[->]($(R1.south) + (210.0 pt,0)$) edge [] node [] {} (C1);

  \end{tikzpicture}
\end{center}
\pagebreak
\section*{Source Dependencies}
\subsection*{\comp.hdl}
\begin{itemize}
	\item assets/hdl/devices/ad9361\_dac\_sub.hdl/ad9361\_dac\_sub\_cmos\_single\_port\_fdd\_ddr.vhd
	\item assets/hdl/devices/ad9361\_dac\_sub.hdl/ad9361\_dac\_sub.vhd
	\item assets/hdl/devices/ad9361\_dac\_sub.hdl/ad936x\_tx\_data\_cmos\_single\_port\_fdd\_ddr.vhd
	\item assets/hdl/devices/ad9361\_dac\_sub.hdl/event\_in\_x2\_to\_txen.vhd

	\item assets/hdl/primitives/bsv/imports/SyncBit.v
	\item assets/hdl/primitives/bsv/bsv\_pkg.vhd
\end{itemize}
\begin{landscape}

	\section*{Component Spec Attributes}
	\begin{scriptsize}
		\begin{tabular}{|p{3.75cm}|p{19.34cm}|}
			\hline
			\rowcolor{blue}
			Attribute & Value \\
			\hline
			NoControl & True \\
			\hline
		\end{tabular}
	\end{scriptsize}

	\section*{Component Spec Properties}
	\begin{scriptsize}
		\begin{tabular}{|p{3.75cm}|p{1.25cm}|p{2cm}|p{2.75cm}|p{1.5cm}|p{1.5cm}|p{1cm}|p{6.74cm}|}
			\hline
			\rowcolor{blue}
			Name               & Type & SequenceLength & ArrayDimensions & Accessibility      & Valid Range & Default & Usage                                                                               \\
			\hline
			- & - & - & - & - & - & - & - \\
			\hline
		\end{tabular}
	\end{scriptsize}

	\section*{Worker Properties}
	\subsection*{\comp.hdl}
	\begin{scriptsize}
		\begin{tabular}{|p{2cm}|p{2.5cm}|p{1cm}|p{2cm}|p{2cm}|p{1.75cm}|p{2cm}|p{1.25cm}|p{5.55cm}|}
			\hline
			\rowcolor{blue}
			Scope        & Name                 & Type & SequenceLength & ArrayDimensions & Accessibility & Valid Range        & Default & Usage                                                                                                                  \\
			\hline
			Property     & \verb+LVDS_p+        & Bool & -              & -               & Parameter        & Standard           & False   & Use LVDS TX data bus interleaving scheme, otherwise use CMOS interleaving scheme. Default is CMOS. \\
			\hline
			Property     & \verb+HALF_DUPLEX_p+ & Bool & -              & -               & Parameter        & Standard           & False   & Use half duplex mode, otherwise use full duplex mode. Must be false when using LVDS mode. \\
			\hline
			Property     & \verb+SINGLE_PORT_p+ & Bool & -              & -               & Parameter        & Standard           & False   & Use single port, otherwise use both (dual) ports.  Default is to use both ports. Must be false when using LVDS mode. \\
			\hline
			Property     & \verb+DATA_RATE_CONFIG_p+&Enum&-             & -               & Parameter        & SDR, DDR           & DDR     & This should have a value of DDR when \verb+LVDS_p+ has a value of true. Either value is acceptable when \verb+LVDS_p+ has a value of false (i.e. CMOS mode is used). \\
			\hline
		\end{tabular}
	\end{scriptsize}

	\section*{Component Ports}
	\begin{scriptsize}
		\begin{tabular}{|p{2cm}|p{1.5cm}|p{4cm}|p{1.5cm}|p{1.5cm}|p{10.85cm}|}
			\hline
			\rowcolor{blue}
			Name & Producer & Protocol           & Optional & Advanced & Usage                  \\
			\hline
			-    & -        & -                  & -        & -        & - \\
			\hline
		\end{tabular}
	\end{scriptsize}

\pagebreak
	\section*{Worker Interfaces}
	\subsection*{\comp.hdl}
	\begin{scriptsize}
		\begin{longtable}{|p{1.75cm}|p{2.25cm}|p{1.25cm}|p{1.25cm}|p{1.25cm}|p{3cm}|p{1.4cm}|p{0.9cm}|p{6.88cm}|}
			\hline
			\rowcolor{blue}
			Type                       & Name                            & Count & Optional & Master                & Signal                & Direction                  & Width                    & Description                                                                                                                  \\
			\hline
			\multirow{38}{*}{DevSignal} & \multirow{38}{*}{dev\_cfg\_data} & \multirow{38}{*}{1} & \multirow{38}{*}{False} & \multirow{38}{*}{True} & config\_is\_two\_r &Input& 1      & Some data port configurations (such as LVDS) require the TX bus to use 2R2T timing if either 2 TX or 2 RX channels are used. For example, if using LVDS and this has a value of 1, 2R2T timing will be forced. \\
			\cline{6-9}
			&             &        &     &      & ch0\_handler\_is\_present &Output & 1      & Value is 1 if the dev\_data\_ch0 dev signal is connected to a worker (that ``handles'' the data) and 0 otherwise. This is expected to be hardcoded at buildtime. \\
			\cline{6-9}
			&             &        &     &      & ch1\_handler\_is\_present &Output & 1      &  Value is 1 if the dev\_data\_ch1 dev signal is connected to a worker (that ``handles'' the data) and 0 otherwise. This is expected to be hardcoded at buildtime. \\
			\cline{6-9}
			&             &        &     &      & data\_bus\_index\_direction &Output&1      &  Value is 1 if the bus indexing of the P0\_D/P1\_D signals from dev\_data\_from\_pins was reversed before processing. This is expected to be hardcoded at buildtime. \\
			\cline{6-9}
			&             &        &     &      & data\_clk\_is\_inverted     &Output& 1      & Value is 1 if the clock in via dev\_data\_clk was inverted inside this worker before used as an active-edge rising clock. This is expected to be hardcoded at buildtime. \\
			\cline{6-9}
			&             &        &     &      & islvds       & Output     & 1      &  Value is 1 if \verb+LVDS_p+ has a value of true and 0 if \verb+LVDS_p+ has a value of false. Because \verb+LVDS_p+ is a parameter property, this is hardcoded at buildtime. The purpose of this devsignal is to feed this worker's buildtime-specified LVDS/CMOS mode through ad9361\_config.hdl to ad9361\_config\_proxy.rcc so No-OS knows which LVDS/CMOS mode to use when initializing the AD9361 IC. \\
			\cline{6-9}
			&             &        &     &      & isdualport   & Output     & 1      &  Value is 1 if \verb+SINGLE_PORT_p+ has a value of false and 0 if \verb+SINGLE_PORT_p+ has a value of true. Because \verb+SINGLE_PORT_p+ is a parameter property, this is hardcoded at buildtime. The purpose of this devsignal is to feed this worker's buildtime-specified single/dual port mode through ad9361\_config.hdl to ad9361\_config\_proxy.rcc so No-OS knows which single/dual port mode to use when initializing the AD9361 IC. \\
			\cline{6-9}
			&             &        &     &      & isfullduplex & Output     & 1      &  Value is 1 if \verb+HALF_DUPLEX_p+ has a value of false and 0 if \verb+HALF_DUPLEX_p+ has a value of true. Because \verb+HALF_DUPLEX_p+ is a parameter property, this is hardcoded at buildtime. The purpose of this devsignal is to feed this worker's buildtime-specified half/full duplex mode through ad9361\_config.hdl to ad9361\_config\_proxy.rcc so No-OS knows which half/full duplex mode to use when initializing the AD9361 IC. \\
			\cline{6-9}
			&             &        &     &      & isDDR        & Output     & 1      &  Value is 1 if \verb+DATA_RATE_CONFIG_p+ has a value of DDR and 0 if \verb+DATA_RATE_CONFIG_p+ has a value of SDR. Because \verb+DATA_RATE_CONFIG_p+ is a parameter property, this is hardcoded at buildtime. The purpose of this devsignal is to feed this worker's buildtime-specified SDR/DDR mode through ad9361\_config.hdl to ad9361\_config\_proxy.rcc so No-OS knows which half/full duplex mode to use when initializing the AD9361 IC.\\
			\cline{6-9}
			&             &        &     &      & present      & Output     & 1      &  Used to communicate to ad9361\_config.hdl that it should validate the islvds, isdualport, isfullduplex, and isddr signals against similar signals in the ad9361\_adc\_sub.hdl and ad9361\_data\_sub.hdl workers if they are present in the bitstream. This is expected to be hardcoded at buildtime. \\
			\cline{6-9}
			\hline
			\multirow{6}{*}{DevSignal} & \multirow{6}{*}{dev\_cfg\_data\_tx} & \multirow{6}{*}{1} & \multirow{6}{*}{False} & \multirow{6}{*}{True}  & config\_is\_two\_t & Input     & 1      & Some data port configurations (such as LVDS) require the TX bus to use 2R2T timing if either 2 TX or 2 RX channels are used. For example, if using LVDS and this has a value of 1, 2R2T timing will be forced.\\
			\cline{6-9}
			&             &        &     &      & force\_two\_r\_two\_t\_timing &Input& 1 & Expected to match value of AD9361 register 0x010 bit D2\cite{adi_ug671}.\\
			\hline
			DevSignal     & dev\_data\_clk & 1  & False & True & DATA\_CLK\_P & Input     & 1      & Buffered version of AD9361 DATA\_CLK\_P pin. \\
			\hline
			\multirow{18}{*}{DevSignal}     & \multirow{18}{*}{dev\_data\_to\_pins} &\multirow{18}{*}{1} & \multirow{18}{*}{False} & \multirow{18}{*}{True}  & \multirow{14}{*}{data} & \multirow{14}{*}{Output}     & \multirow{14}{*}{24}      & Data bus containing configuration-specific AD9361 pins corresponding to the TX data path: \\
			&  &  &     &      &  &      &       & * CMOS single port half duplex: [12'b0 P0\_D[11:0]], \\
			&  &  &     &      &  &      &       & * CMOS single port full duplex: [18'b0 P0\_D[11:6]], \\
			&  &  &     &      &  &      &       & * CMOS dual port half duplex: [P0\_D[11:0] P1\_D[11:0]], \\
			&  &  &     &      &  &      &       & * CMOS dual port full duplex: [12'b0 P1\_D[11:0]], \\
			&  &  &     &      &  &      &       & * LVDS: [18'b0 TX\_D[5:0]], \\
			&  &  &     &      &  &      &       & or, if ports are swapped: \\
			&  &  &     &      &  &      &       & * CMOS single port half duplex: [12'b0 P1\_D[11:0]], \\
			&  &  &     &      &  &      &       & * CMOS single port full duplex: [18'b0 P1\_D[11:6]], \\
			&  &  &     &      &  &      &       & * CMOS dual port half duplex: [P1\_D[11:0] P0\_D[11:0]], \\
			&  &  &     &      &  &      &       & * CMOS dual port full duplex: [12'b0 P0\_D[11:0]], \\
			&  &  &     &      &  &      &       & * LVDS: (unsupported with port swap). \\
			&  &  &     &      &  &      &       & For more info see \cite{data_sub_comp_datasheet}. \\
			\cline{6-9}
			&  &  &     &      &tx\_frame&Output&1& Signal which will drive the output buffer which drives the AD9361 TX\_FRAME\_P pin. \\
			\cline{6-9}
			&  &  &     &      &fb\_clk  &Output&1& Signal which will drive the output buffer which will drive the AD9361 FB\_CLK\_P pin. \\
			\hline
			DevSignal     & dev\_txen      & 1  & False & True & txen & Output    & 1      & - \\
			\hline
			\multirow{15}{*}{DevSignal} & \multirow{15}{*}{dev\_data\_ch0\_in} & \multirow{15}{*}{1} & \multirow{15}{*}{False} & \multirow{15}{*}{False}  & present & Output&1& Value is 1 if a worker is connected to this devsignal port. \\
			\cline{6-9}
			&             &        &     &      & dac\_clk     & Input     & 1      & Clock for dac\_ready, dac\_take, dac\_data\_I, and dac\_data\_Q. \\
			\cline{6-9}
			&             &        &     &      & dac\_ready   & Output    & 1      & Indicates that the dac\_data\_I and dac\_data\_Q are valid/ready to be latched on the next rising edge of adc\_clk. \\
			\cline{6-9}
			&             &        &     &      & dac\_take    & Input     & 1      & Indicates that dac\_data\_I and dac\_data\_Q were latched on the previous rising edge of dac\_clk. If in the previous clock cycle dac\_ready was 1, the values of dac\_data\_I and dac\_data\_Q should not be allowed to update with a new sample until dac\_take is 1. \\
			\cline{6-9}
			&             &        &     &      & dac\_data\_I & Output    & 12     & Signed Q0.11 I value of DAC sample corresponding to RX channel 0. \\
			\cline{6-9}
			&             &        &     &      & dac\_data\_Q & Output    & 12     & Signed Q0.11 Q value of DAC sample corresponding to RX channel 0. \\
			\hline
			\multirow{15}{*}{DevSignal} & \multirow{15}{*}{dev\_data\_ch1\_in} & \multirow{15}{*}{1} & \multirow{15}{*}{True} & \multirow{15}{*}{False}  & present & Output&1& Value is 1 if a worker is connected to this devsignal port. \\
			\cline{6-9}
			&             &        &     &      & dac\_clk     & Input     & 1      & Clock for dac\_ready, dac\_take, dac\_data\_I, and dac\_data\_Q. \\
			\cline{6-9}
			&             &        &     &      & dac\_ready   & Output    & 1      & Indicates that the dac\_data\_I and dac\_data\_Q are valid/ready to be latched on the next rising edge of adc\_clk. \\
			\cline{6-9}
			&             &        &     &      & dac\_take    & Input     & 1      & Indicates that dac\_data\_I and dac\_data\_Q were latched on the previous rising edge of dac\_clk. If in the previous clock cycle dac\_ready was 1, the values of dac\_data\_I and dac\_data\_Q should not be allowed to update with a new sample until dac\_take is 1. \\
			\cline{6-9}
			&             &        &     &      & dac\_data\_I & Output    & 12     & Signed Q0.11 I value of DAC sample corresponding to RX channel 1. \\
			\cline{6-9}
			&             &        &     &      & dac\_data\_Q & Output    & 12     & Signed Q0.11 Q value of DAC sample corresponding to RX channel 1. \\
			\hline
			\multirow{4}{*}{DevSignal}     & \multirow{4}{*}{dev\_tx\_event\_ch0} &\multirow{4}{*}{1} & \multirow{4}{*}{False} & \multirow{4}{*}{False}  & txon\_pulse & Output & 1 & - \\
			\cline{6-9}
			&  &  &     &      &txoff\_pulse &Output&1& - \\
			\cline{6-9}
			&  &  &     &      &event\_in\_connected &Output&1& - \\
			\cline{6-9}
			&  &  &     &      &is\_operating &Output&1& - \\
			\hline
\pagebreak
			\hline
			\multirow{4}{*}{DevSignal}     & \multirow{4}{*}{dev\_tx\_event\_ch1} &\multirow{4}{*}{1} & \multirow{4}{*}{True} & \multirow{4}{*}{False}  & txon\_pulse & Output & 1 & - \\
			\cline{6-9}
			&  &  &     &      &txoff\_pulse &Output&1& - \\
			\cline{6-9}
			&  &  &     &      &event\_in\_connected &Output&1& - \\
			\cline{6-9}
			&  &  &     &      &is\_operating &Output&1& - \\
			\hline
		\end{longtable}
	\end{scriptsize}

	\section*{Subdevice Connections}
	\begin{scriptsize}
		\begin{tabular}{|p{5cm}|p{5cm}|p{5cm}|p{7.22cm}|}
			\hline
			\rowcolor{blue}
			Supports Worker & Supports Worker Port & \comp{}.hdl Port     & \comp{}.hdl Port Index \\
			\hline
			ad9361\_dac     & dev\_dac             & dev\_data\_ch0\_in & 0 \\
			\hline
			ad9361\_dac     & dev\_dac             & dev\_data\_ch1\_in & 0 \\
			\hline
		\end{tabular}
	\end{scriptsize}

\end{landscape}

\section*{Control Timing and Signals}
The \Comp{} subdevice worker contains four clock domains: control plane, FB\_CLK\_P, ``dac\_clk'' and ``dacd2\_clk''.
\subsection*{Control Plane Clock Domain}
The \verb+data_cfg_tx+ signals enter this worker in the control plane clock domain. Inside this worker, they are combined combinatorially into a single signal which is subsequently synchronized to the dacd2\_clk domain. The dacd2\_clk domain signal is then used to handle time-interleaving of multiple channel's data.
\subsection*{DATA\_CLK\_P/FB\_CLK\_P Clock Domain}
The AD9361 DATA\_CLK\_P clock enters this worker via the \verb+dev_data_clk+ devsignal. DATA\_CLK\_P clock is forwarded to the \verb+FB_CLK_P+ device signal as well as used to generate dac\_clk.
\subsection*{``dac\_clk'' Clock Domain}
The ``dac\_clk'' clock is an inverted version of DATA\_CLK\_P. Note that data transitions for the TX data sent out via the \verb+dev_data_to_pins+ devsignal port are falling-edge aligned with \verb+FB_CLK_P+ since the falling edge is what the AD9361 datasheets specifies its setup/hold requirements against\cite{adi_ug570}. The dac\_clk domain allows for logic within this worker to be falling edge aligned with \verb+FB_CLK_P+.
\subsection*{``dacd2\_clk'' Clock Domain}
The ``dacd2\_clk'' clock is a divided by 2 version of ``dac\_clk''. TX data for channel 0 and channel 1 enter this worker in the dacd2\_clk domain from the  \verb+dev_data_ch0_in+ and \verb+dev_data_ch1_in+ devsignal ports, respectively. The dacd2\_clk clock was a necessary replacement for some of the dac\_clk logic in order to alleviate timing violations in the dac\_clk domain for the zed\_ise platform. Note that because dacd2\_clk is a divided version of dac\_clk, synchronization logic between the two is not necessary and not included.
\subsection*{Data latency}
\begin{itemize}
	\item{\textbf{LVDS mode and CMOS Single Port Full Duplex}} \\ Latency for these modes is given as the number of clock cycles from a given channel's data becoming ready on the dac\_data\_I and dac\_data\_Q devsignals to the starting edge of the high 6-bit I word on the AD9361 data bus output. Note that, for multichannel modes, latency can be two possible values depending on the current state of the 2-state channel serialization state machine when dac\_data\_I/dac\_data\_Q becomes ready. The latency for the various LVDS and CMOS Single Port Full Duplex configurations are as follows:
\begin{itemize}
	\item{1R1T} \\channel 0 data latency = 3 FB\_CLK\_P cycles (2 are pipeline delay which are arguably unnecessary and 1 is a 12-bit word to 6-bit word serialization register)
	\item{2R1T/1R2T/2R2T} \\channel 0 data latency = 3 or 5 FB\_CLK\_P cycles (2 are pipeline delay which are arguably unnecessary, 2 are possible channel serialization register delay, and 1 is a 12-bit word to 6-bit word serialization register) \\channel 1 data latency = 3 or 5 FB\_CLK\_P cycles (2 are pipeline delay which are arguably unnecessary, 2 are possible channel serialization register delay, and 1 is a 12-bit word to 6-bit word serialization register)
\end{itemize}
\end{itemize}
\pagebreak
\subsection*{Multichannel Phase Coherency}
Note that the two channel data made available via dev\_data\_ch0\_in and dev\_data\_ch1\_in are only ever considered to be phase coherent if coherency is guaranteed by the worker(s) that dev\_data\_ch0\_in and dev\_data\_ch1\_in are connected to. For example, multiple instances of ad9361\_dac.hdl would not guarantee phase coherence because their datastreams would be independent. However, if a single device worker was created which interfaced with both dev\_data\_ch0\_in and dev\_data\_ch1\_in, phase coherency could be guaranteed by updating the values for the two channels in an every-other-clock fashion.

\section*{Worker Configuration Parameters}
\subsubsection*{\comp.hdl}
%\input{../../\ecomp.hdl/configurations.inc}
\section*{Performance and Resource Utilization}
\subsubsection*{\comp.hdl}
Fmax refers to the maximum allowable clock rate for any registered signal paths within a given clock domain for an FPGA design. Fmax in the table below is specific only to this worker and represents the maximum possible Fmax for any OpenCPI bitstream built with this worker included. Note that the Fmax value for a given clock domain for the final bitstream is often worse than the Fmax specific to this worker, even if this worker is the only one included in the bitstream. \\

\noindent In the tables below, dev\_data\_clk is the worker source code name for the signal which is ultimately driven by, and has the same clock rate of, the AD9361 DATA\_CLK pin pair. \\

%\input{../../\ecomp.hdl/utilization.inc}
\input{utilization_custom.inc}

\footnotetext[1]{\label{abc}These measurements were the result of a Vivado timing analysis which was different from the Vivado analysis performed by default for OpenCPI worker builds. For more info see Appendix \ref{appendix}}
\footnotetext[2]{\label{quartustiming}Quartus does not perform timing analysis at the OpenCPI worker build (i.e. synthesis) stage.}
\section*{Test and Verification}
The test outlined in \cite{dac_comp_datasheet} includes validation of this worker's functionality (for LVDS mode and CMOS Single Port Full Duplex DDR mode only).
\pagebreak
\begin{thebibliography}{1}

\bibitem{ad9361} AD9361 Datasheet and Product Info \\
\url{https://www.analog.com/en/products/ad9361.html}
\bibitem{adi_ug570} AD9361 Reference Manual UG-570\\
AD9361\_Reference\_Manual\_UG-570.pdf
\bibitem{adi_ug671} AD9361 Register Map Reference Manual UG-671\\
AD9361\_Register\_Map\_Reference\_Manual\_UG-671.pdf
 \bibitem{data_sub_comp_datasheet} AD9361 Data Sub Component Data Sheet \\
 \githubioURL{assets/AD9361_Data_Sub.pdf}
 \bibitem{dac_comp_datasheet} AD9361 DAC Component Data Sheet \\
 \githubioURL{assets/AD9361_DAC.pdf}
 \bibitem{config_proxy_comp_datasheet} AD9361 Config Proxy Component Data Sheet \\
 \githubioURL{assets/AD9361_Config_Proxy.pdf}

\end{thebibliography}
\pagebreak

\section{Appendix - Vivado Timing Analysis} \label{appendix}

The Vivado timing report that OpenCPI runs for HDL worker builds will erroneously report a max delay for a clocking path which should be ignored. Custom Vivado tcl commands have to be run in order to extract pertinent information from Vivado timing analysis. After building the worker, the following commands were run from the assets project directory (after the Vivado settings64.sh was sourced):
\lstset{language=bash, backgroundcolor=\color{lightgray}, columns=flexible, breaklines=true, prebreak=\textbackslash, basicstyle=\ttfamily, showstringspaces=false,upquote=true, aboveskip=\baselineskip, belowskip=\baselineskip}
\begin{lstlisting}
cd hdl/devices/
vivado -mode tcl
\end{lstlisting}
Then the following commands were run inside the Vivado tcl terminal:
\begin{lstlisting}
open_project ad9361_dac_sub.hdl/target-zynq/ad9361_dac_sub_rv.xpr
synth_design -part xc7z020clg484-1 -top ad9361_dac_sub_rv -mode out_of_context
create_clock -name clk1 -period 0.001 [get_nets wci_Clk]
create_clock -name clk2 -period 0.001 [get_nets dev_data_clk*]
set_clock_groups -asynchronous -group [get_clocks clk1] -group [get_clocks clk2]
report_timing -delay_type min_max -sort_by slack -input_pins -group clk1
report_timing -delay_type min_max -sort_by slack -input_pins -group clk2
close_project
open_project ad9361_dac_sub.hdl/target-1-zynq/ad9361_dac_sub_rv.xpr
synth_design -part xc7z020clg484-1 -top ad9361_dac_sub_rv_c1 -mode out_of_context
create_clock -name clk1 -period 0.001 [get_nets wci_Clk]
create_clock -name clk2 -period 0.001 [get_nets dev_data_clk*]
set_clock_groups -asynchronous -group [get_clocks clk1] -group [get_clocks clk2]
report_timing -delay_type min_max -sort_by slack -input_pins -group clk1
report_timing -delay_type min_max -sort_by slack -input_pins -group clk2
close_project
\end{lstlisting}
The following commands are run to get the slack for all clocks:
\begin{lstlisting}
report_timing -delay_type min_max -sort_by slack -input_pins -group clk1
\end{lstlisting}
The Fmax for each clock for this worker is computed as the inverse of [(maximum slack magnitude with the vivado-configured clock rate of 1 ps) plus (2 times the assumed 1 ps control plane clock period)], e.g. 1/[(5.372 ns) + (0.002 ns)] = 186.08 MHz = Fmax. \\ \\
An example output for is as follows:
\fontsize{6}{12}\selectfont
\begin{lstlisting}
INFO: [Timing 38-35] Done setting XDC timing constraints.
INFO: [Timing 38-91] UpdateTimingParams: Speed grade: -1, Delay Type: min_max.
INFO: [Timing 38-191] Multithreading enabled for timing update using a maximum of 8 CPUs
WARNING: [Timing 38-242] The property HD.CLK_SRC of clock port "ctl_in[Clk]" is not set. In out-of-context mode, this prevents timing estimation for clock delay/skew
Resolution: Set the HD.CLK_SRC property of the out-of-context port to the location of the clock buffer instance in the top-level design
WARNING: [Timing 38-242] The property HD.CLK_SRC of clock port "dev_dac_in[dac_clk]" is not set. In out-of-context mode, this prevents timing estimation for clock delay/skew
Resolution: Set the HD.CLK_SRC property of the out-of-context port to the location of the clock buffer instance in the top-level design
INFO: [Timing 38-78] ReportTimingParams: -max_paths 1 -nworst 1 -delay_type min_max -sort_by slack.
Copyright 1986-2017 Xilinx, Inc. All Rights Reserved.
-------------------------------------------------------------------------------------------------
| Tool Version : Vivado v.2017.1 (lin64) Build 1846317 Fri Apr 14 18:54:47 MDT 2017
| Date         : Wed Oct  3 16:41:06 2018
| Host         : <removed> running 64-bit CentOS Linux release 7.5.1804 (Core)
| Command      : report_timing -delay_type min_max -sort_by slack -input_pins -group clk1
| Design       : ad9361_dac_rv
| Device       : 7z020-clg484
| Speed File   : -1  PRODUCTION 1.11 2014-09-11
-------------------------------------------------------------------------------------------------

Timing Report

Slack (VIOLATED) :        -5.372ns  (required time - arrival time)
  Source:                 IN_port/fifo/data0_reg_reg[13]/C
                            (rising edge-triggered cell FDRE clocked by clk1  {rise@0.000ns fall@0.001ns period=0.001ns})
  Destination:            worker/fifo/fifo/fifoMem_reg/DIADI[9]
                            (rising edge-triggered cell RAMB18E1 clocked by clk1  {rise@0.000ns fall@0.001ns period=0.001ns})
  Path Group:             clk1
  Path Type:              Setup (Max at Slow Process Corner)
  Requirement:            0.002ns  (clk1 rise@0.002ns - clk1 rise@0.000ns)
  Data Path Delay:        4.374ns  (logic 1.904ns (43.533%)  route 2.470ns (56.467%))
  Logic Levels:           5  (CARRY4=3 LUT4=1 LUT5=1)
  Clock Path Skew:        -0.049ns (DCD - SCD + CPR)
    Destination Clock Delay (DCD):    0.924ns = ( 0.926 - 0.002 )
    Source Clock Delay      (SCD):    0.973ns
    Clock Pessimism Removal (CPR):    0.000ns
  Clock Uncertainty:      0.035ns  ((TSJ^2 + TIJ^2)^1/2 + DJ) / 2 + PE
    Total System Jitter     (TSJ):    0.071ns
    Total Input Jitter      (TIJ):    0.000ns
    Discrete Jitter          (DJ):    0.000ns
    Phase Error              (PE):    0.000ns

    Location             Delay type                Incr(ns)  Path(ns)    Netlist Resource(s)
  -------------------------------------------------------------------    -------------------
                         (clock clk1 rise edge)       0.000     0.000 r
                                                      0.000     0.000 r  ctl_in[Clk] (IN)
                         net (fo=198, unset)          0.973     0.973    IN_port/fifo/ctl_in[Clk]
                         FDRE                                         r  IN_port/fifo/data0_reg_reg[13]/C
  -------------------------------------------------------------------    -------------------
                         FDRE (Prop_fdre_C_Q)         0.518     1.491 r  IN_port/fifo/data0_reg_reg[13]/Q
                         net (fo=3, unplaced)         0.759     2.250    IN_port/fifo/IN_data[5]
                                                                      r  IN_port/fifo/fifoMem_reg_i_36/I1
                         LUT4 (Prop_lut4_I1_O)        0.295     2.545 r  IN_port/fifo/fifoMem_reg_i_36/O
                         net (fo=1, unplaced)         0.902     3.447    IN_port/fifo/fifoMem_reg_i_36_n_0
                                                                      r  IN_port/fifo/fifoMem_reg_i_24/I1
                         LUT5 (Prop_lut5_I1_O)        0.124     3.571 r  IN_port/fifo/fifoMem_reg_i_24/O
                         net (fo=1, unplaced)         0.000     3.571    IN_port/fifo/fifoMem_reg_i_24_n_0
                                                                      r  IN_port/fifo/fifoMem_reg_i_5/S[0]
                         CARRY4 (Prop_carry4_S[0]_CO[3])
                                                      0.513     4.084 r  IN_port/fifo/fifoMem_reg_i_5/CO[3]
                         net (fo=1, unplaced)         0.009     4.093    IN_port/fifo/fifoMem_reg_i_5_n_0
                                                                      r  IN_port/fifo/fifoMem_reg_i_4/CI
                         CARRY4 (Prop_carry4_CI_CO[3])
                                                      0.117     4.210 r  IN_port/fifo/fifoMem_reg_i_4/CO[3]
                         net (fo=1, unplaced)         0.000     4.210    IN_port/fifo/fifoMem_reg_i_4_n_0
                                                                      r  IN_port/fifo/fifoMem_reg_i_3/CI
                         CARRY4 (Prop_carry4_CI_O[1])
                                                      0.337     4.547 r  IN_port/fifo/fifoMem_reg_i_3/O[1]
                         net (fo=1, unplaced)         0.800     5.347    worker/fifo/fifo/sD_IN[9]
                         RAMB18E1                                     r  worker/fifo/fifo/fifoMem_reg/DIADI[9]
  -------------------------------------------------------------------    -------------------

                         (clock clk1 rise edge)       0.002     0.002 r
                                                      0.000     0.002 r  ctl_in[Clk] (IN)
                         net (fo=198, unset)          0.924     0.926    worker/fifo/fifo/ctl_in[Clk]
                         RAMB18E1                                     r  worker/fifo/fifo/fifoMem_reg/CLKBWRCLK
                         clock pessimism              0.000     0.926
                         clock uncertainty           -0.035     0.891
                         RAMB18E1 (Setup_ramb18e1_CLKBWRCLK_DIADI[9])
                                                     -0.916    -0.025    worker/fifo/fifo/fifoMem_reg
  -------------------------------------------------------------------
                         required time                         -0.025
                         arrival time                          -5.347
  -------------------------------------------------------------------
                         slack                                 -5.372




report_timing: Time (s): cpu = 00:00:08 ; elapsed = 00:00:09 . Memory (MB): peak = 2095.184 ; gain = 497.547 ; free physical = 7704 ; free virtual = 54670
\end{lstlisting}
\fontsize{10}{12}\selectfont
The following command is run to get dev\_dac.dac\_clk timing:
\begin{lstlisting}
report_timing -delay_type min_max -sort_by slack -input_pins -group clk2
\end{lstlisting}
The expected output of the command is as follows:
\fontsize{6}{12}\selectfont
\begin{lstlisting}
INFO: [Timing 38-91] UpdateTimingParams: Speed grade: -1, Delay Type: min_max.
INFO: [Timing 38-191] Multithreading enabled for timing update using a maximum of 8 CPUs
INFO: [Timing 38-78] ReportTimingParams: -max_paths 1 -nworst 1 -delay_type min_max -sort_by slack.
Copyright 1986-2017 Xilinx, Inc. All Rights Reserved.
-------------------------------------------------------------------------------------------------
| Tool Version : Vivado v.2017.1 (lin64) Build 1846317 Fri Apr 14 18:54:47 MDT 2017
| Date         : Thu Oct  4 10:56:37 2018
| Host         : <removed> running 64-bit CentOS Linux release 7.5.1804 (Core)
| Command      : report_timing -delay_type min_max -sort_by slack -input_pins -group clk2
| Design       : ad9361_dac_rv
| Device       : 7z020-clg484
| Speed File   : -1  PRODUCTION 1.11 2014-09-11
-------------------------------------------------------------------------------------------------

Timing Report

Slack (VIOLATED) :        -4.306ns  (required time - arrival time)
  Source:                 worker/fifo/fifo/dEnqPtr_reg[0]/C
                            (rising edge-triggered cell FDCE clocked by clk2  {rise@0.000ns fall@0.001ns period=0.001ns})
  Destination:            worker/fifo/fifo/fifoMem_reg/ENARDEN
                            (rising edge-triggered cell RAMB18E1 clocked by clk2  {rise@0.000ns fall@0.001ns period=0.001ns})
  Path Group:             clk2
  Path Type:              Setup (Max at Slow Process Corner)
  Requirement:            0.002ns  (clk2 rise@0.002ns - clk2 rise@0.000ns)
  Data Path Delay:        3.781ns  (logic 1.061ns (28.063%)  route 2.720ns (71.937%))
  Logic Levels:           3  (LUT2=1 LUT6=2)
  Clock Path Skew:        -0.049ns (DCD - SCD + CPR)
    Destination Clock Delay (DCD):    0.924ns = ( 0.926 - 0.002 )
    Source Clock Delay      (SCD):    0.973ns
    Clock Pessimism Removal (CPR):    0.000ns
  Clock Uncertainty:      0.035ns  ((TSJ^2 + TIJ^2)^1/2 + DJ) / 2 + PE
    Total System Jitter     (TSJ):    0.071ns
    Total Input Jitter      (TIJ):    0.000ns
    Discrete Jitter          (DJ):    0.000ns
    Phase Error              (PE):    0.000ns

    Location             Delay type                Incr(ns)  Path(ns)    Netlist Resource(s)
  -------------------------------------------------------------------    -------------------
                         (clock clk2 rise edge)       0.000     0.000 r
                                                      0.000     0.000 r  dev_dac_in[dac_clk] (IN)
                         net (fo=35, unset)           0.973     0.973    worker/fifo/fifo/dev_dac_in[dac_clk]
                         FDCE                                         r  worker/fifo/fifo/dEnqPtr_reg[0]/C
  -------------------------------------------------------------------    -------------------
                         FDCE (Prop_fdce_C_Q)         0.518     1.491 r  worker/fifo/fifo/dEnqPtr_reg[0]/Q
                         net (fo=1, unplaced)         0.965     2.456    worker/fifo/fifo/dEnqPtr[0]
                                                                      r  worker/fifo/fifo/dGDeqPtr_rep[0]_i_3/I0
                         LUT6 (Prop_lut6_I0_O)        0.295     2.751 r  worker/fifo/fifo/dGDeqPtr_rep[0]_i_3/O
                         net (fo=1, unplaced)         0.449     3.200    worker/fifo/fifo/dGDeqPtr_rep[0]_i_3_n_0
                                                                      r  worker/fifo/fifo/dGDeqPtr_rep[0]_i_1/I1
                         LUT6 (Prop_lut6_I1_O)        0.124     3.324 r  worker/fifo/fifo/dGDeqPtr_rep[0]_i_1/O
                         net (fo=18, unplaced)        0.506     3.830    worker/fifo/fifo/dGDeqPtr0
                                                                      r  worker/fifo/fifo/fifoMem_reg_i_1/I0
                         LUT2 (Prop_lut2_I0_O)        0.124     3.954 r  worker/fifo/fifo/fifoMem_reg_i_1/O
                         net (fo=1, unplaced)         0.800     4.754    worker/fifo/fifo/fifoMem_reg_i_1_n_0
                         RAMB18E1                                     r  worker/fifo/fifo/fifoMem_reg/ENARDEN
  -------------------------------------------------------------------    -------------------

                         (clock clk2 rise edge)       0.002     0.002 r
                                                      0.000     0.002 r  dev_dac_in[dac_clk] (IN)
                         net (fo=35, unset)           0.924     0.926    worker/fifo/fifo/dev_dac_in[dac_clk]
                         RAMB18E1                                     r  worker/fifo/fifo/fifoMem_reg/CLKARDCLK
                         clock pessimism              0.000     0.926
                         clock uncertainty           -0.035     0.891
                         RAMB18E1 (Setup_ramb18e1_CLKARDCLK_ENARDEN)
                                                     -0.443     0.448    worker/fifo/fifo/fifoMem_reg
  -------------------------------------------------------------------
                         required time                          0.448
                         arrival time                          -4.754
  -------------------------------------------------------------------
                         slack                                 -4.306




\end{lstlisting}


\end{document}
