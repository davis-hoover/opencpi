--- mmcme4_orig.vhd	2021-03-10 12:34:16.971328709 -0500
+++ mmcme4_sim.vhd	2021-03-10 09:10:41.673605563 -0500
@@ -3,6 +3,13 @@
 library UNISIM;
 use UNISIM.VCOMPONENTS.ALL;
 entity mmcme4_mmcme4_clk_wiz is
+  generic (
+    DIVCLK_DIVIDE        : integer :=  1; -- D
+    CLKFBOUT_MULT_F      : real :=  5.0;  -- M
+    CLKOUT0_DIVIDE_F     : real :=  1.0;  -- O
+    CLKOUT0_PHASE        : real :=  0.0;
+    CLKOUT0_DUTY_CYCLE   : real :=  0.5;
+    CLKIN1_PERIOD        : real :=  0.0);
   port (
     clk_out1 : out STD_LOGIC;
     reset : in STD_LOGIC;
@@ -39,13 +46,6 @@
   attribute BOX_TYPE of clkf_buf : label is "PRIMITIVE";
   attribute XILINX_LEGACY_PRIM : string;
   attribute XILINX_LEGACY_PRIM of clkf_buf : label is "BUFG";
-  attribute BOX_TYPE of clkin1_ibuf : label is "PRIMITIVE";
-  attribute CAPACITANCE : string;
-  attribute CAPACITANCE of clkin1_ibuf : label is "DONT_CARE";
-  attribute IBUF_DELAY_VALUE : string;
-  attribute IBUF_DELAY_VALUE of clkin1_ibuf : label is "0";
-  attribute IFD_DELAY_VALUE : string;
-  attribute IFD_DELAY_VALUE of clkin1_ibuf : label is "AUTO";
   attribute BOX_TYPE of clkout1_buf : label is "PRIMITIVE";
   attribute XILINX_LEGACY_PRIM of clkout1_buf : label is "BUFG";
   attribute BOX_TYPE of mmcme3_adv_inst : label is "PRIMITIVE";
@@ -59,14 +59,6 @@
       I => clkfbout_mmcme4,
       O => clkfbout_buf_mmcme4
     );
-clkin1_ibuf: unisim.vcomponents.IBUF
-    generic map(
-      IOSTANDARD => "DEFAULT"
-    )
-        port map (
-      I => clk_in1,
-      O => clk_in1_mmcme4
-    );
 clkout1_buf: unisim.vcomponents.BUFGCE
     generic map(
       CE_TYPE => "ASYNC"
@@ -79,14 +71,14 @@
 mmcme3_adv_inst: unisim.vcomponents.MMCME4_ADV
     generic map(
       BANDWIDTH => "OPTIMIZED",
-      CLKFBOUT_MULT_F => 12.000000,
+      CLKFBOUT_MULT_F => CLKFBOUT_MULT_F,
       CLKFBOUT_PHASE => 0.000000,
       CLKFBOUT_USE_FINE_PS => "FALSE",
-      CLKIN1_PERIOD => 10.000000,
+      CLKIN1_PERIOD => CLKIN1_PERIOD,
       CLKIN2_PERIOD => 0.000000,
-      CLKOUT0_DIVIDE_F => 12.000000,
-      CLKOUT0_DUTY_CYCLE => 0.500000,
-      CLKOUT0_PHASE => 0.000000,
+      CLKOUT0_DIVIDE_F => CLKOUT0_DIVIDE_F,
+      CLKOUT0_DUTY_CYCLE =>CLKOUT0_DUTY_CYCLE,
+      CLKOUT0_PHASE => CLKOUT0_PHASE,
       CLKOUT0_USE_FINE_PS => "FALSE",
       CLKOUT1_DIVIDE => 1,
       CLKOUT1_DUTY_CYCLE => 0.500000,
@@ -114,7 +106,7 @@
       CLKOUT6_PHASE => 0.000000,
       CLKOUT6_USE_FINE_PS => "FALSE",
       COMPENSATION => "ZHOLD",
-      DIVCLK_DIVIDE => 1,
+      DIVCLK_DIVIDE => DIVCLK_DIVIDE,
       IS_CLKFBIN_INVERTED => '0',
       IS_CLKIN1_INVERTED => '0',
       IS_CLKIN2_INVERTED => '0',
@@ -137,7 +129,7 @@
       CLKFBOUT => clkfbout_mmcme4,
       CLKFBOUTB => NLW_mmcme3_adv_inst_CLKFBOUTB_UNCONNECTED,
       CLKFBSTOPPED => NLW_mmcme3_adv_inst_CLKFBSTOPPED_UNCONNECTED,
-      CLKIN1 => clk_in1_mmcme4,
+      CLKIN1 => clk_in1,
       CLKIN2 => '0',
       CLKINSEL => '1',
       CLKINSTOPPED => NLW_mmcme3_adv_inst_CLKINSTOPPED_UNCONNECTED,
@@ -173,6 +165,13 @@
 library UNISIM;
 use UNISIM.VCOMPONENTS.ALL;
 entity mmcme4 is
+  generic (
+    DIVCLK_DIVIDE        : integer :=  1; -- D
+    CLKFBOUT_MULT_F      : real :=  5.0;  -- M
+    CLKOUT0_DIVIDE_F     : real :=  1.0;  -- O
+    CLKOUT0_PHASE        : real :=  0.0;
+    CLKOUT0_DUTY_CYCLE   : real :=  0.5;
+    CLKIN1_PERIOD        : real :=  0.0);
   port (
     clk_out1 : out STD_LOGIC;
     reset : in STD_LOGIC;
@@ -186,6 +185,13 @@
 architecture STRUCTURE of mmcme4 is
 begin
 inst: entity work.mmcme4_mmcme4_clk_wiz
+    generic map(
+      DIVCLK_DIVIDE        =>  DIVCLK_DIVIDE,
+      CLKFBOUT_MULT_F      =>  CLKFBOUT_MULT_F,
+      CLKOUT0_DIVIDE_F     =>  CLKOUT0_DIVIDE_F,
+      CLKOUT0_PHASE        =>  CLKOUT0_PHASE,
+      CLKOUT0_DUTY_CYCLE   =>  CLKOUT0_DUTY_CYCLE,
+      CLKIN1_PERIOD        =>  CLKIN1_PERIOD)
      port map (
       clk_in1 => clk_in1,
       clk_out1 => clk_out1,
