%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% this file was generated by docGen.py
% this file is intended to be edited
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
\textit{\textbf{Revision History}}
  \begin{table}[H]
  \label{table:revisions} % Add "[H]" to force placement of table
    \begin{longtable}{|p{\dimexpr0.15\textwidth-2\tabcolsep\relax}
                      |p{\dimexpr0.75\textwidth-2\tabcolsep\relax}
                      |p{\dimexpr0.1\textwidth-2\tabcolsep\relax}|}
    \hline
    \rowcolor{blue}
    \textbf{Revision} & \textbf{Description of Change} & \textbf{Date} \\
      \hline
      v1.6 & Released initial technology preview & \\
      \hline
      v1.7 & Updated port/property/interface tables for accuracy. Package ID changed from ocpi.assets to ocpi.platform. & \\
      \hline
    \end{longtable}
  \end{table}
\end{center}
\newpage

\def\name{\comp}
\def\workertype{Device}
\def\version{\ocpiversion}
\def\releasedate{06/2020}
\def\componentlibrary{ocpi.platform.devices}
\def\workers{data\_{}src\_{}adc.hdl}
\def\testedplatforms{xsim (Vivado 2017.1)}
\input{\snippetpath/component_summary_table}

\section*{Functionality}
The \comp \ component provides the property and port definitions necessary for the data\_src\_adc.hdl worker which performs all the generic functionality required to ingest Analog-to-Digital Converter (ADC) data onto an FPGA.

\section*{Worker Implementation Details}
The following section describes the data\_src\_adc.hdl worker. Sampled data from an ADC is sent to the worker via the \verb+dev+ devsignal port. The samples are sign-extended and justified to a 16-bit I, 16-bit Q values, which is the standard provided by the samples argument of the ComplexShortWithMetadata-prot protocol used by the \verb+out+ port. Justification within the 16-bit values is performed according to the \verb+ADC_INPUT_IS_LSB_OF_OUT_PORT+ parameter property. The ADC samples are sent along with the ADC clock on the \verb+dev+ devsignal port. The ouput port clock is driver by the ADC clock, and backpressure from the output port's ready signal is not expected under normal operation. When backpressure is experienced, the overrun\_sticky\_error property is set to true, an \verb+out+ port samples message will be ended if one is in progress, and a sync message will be sent to the output port.

%\section*{Block Diagrams}
%\subsection*{Top level}
\begin{center}
\end{center}\pagebreak

\section*{Source Dependencies}
\subsection*{\comp.hdl}
\begin{itemize}
	\item assets/hdl/devices/\comp.hdl/\comp.vhd
	\item core/hdl/primitives/cdc/cdc\_pkg.vhd
	\item core/hdl/primitives/cdc/reset.vhd
	\item core/hdl/primitives/cdc/fast\_pulse\_to\_slow\_sticky.vhd
	\item core/hdl/primitives/cdc/single\_bit.vhd
	\item assets/hdl/primitives/misc\_prims/misc\_prims\_pkg.vhd
	\item assets/hdl/primitives/misc\_prims/misc\_prims\_body.vhd
	\item assets/hdl/primitives/misc\_prims/adc\_samp\_drop\_detector.vhd
	\item assets/hdl/primitives/misc\_prims/data\_widener.vhd
	\item assets/hdl/primitives/misc\_prims/ocpi\_pkg.vhd
	\item assets/hdl/primitives/misc\_prims/ocpi\_cswm\_prot\_out\_adapter\_dw32\_clkout.vhd
	\item assets/hdl/primitives/misc\_prims/ocpi\_cswm\_prot\_out\_adapter\_dw32\_clkin.vhd
\end{itemize}

\begin{landscape}
  \input{component_spec_properties.inc} % it is recommended to NOT remove this line

  \input{worker_properties.inc} % it is recommended to NOT remove this line

  \input{component_ports.inc} % it is recommended to NOT remove this line

  \input{worker_interfaces.inc} % it is recommended to NOT remove this line
\end{landscape}

%\section*{Control Timing and Signals}
%\subsection*{\comp.hdl}
%\begin{flushleft}
%\end{flushleft}

%\section*{Performance and Resource Utilization}
%\subsubsection*{\comp.rcc}
%\subsubsection*{\comp.hdl}

\section*{Test and Verification}
No unit test for this component exists. However, an application (which is NOT a unit test) exists for testing purposes (see assets/applications/data\_src\_adc\_ext\_test\_app).
